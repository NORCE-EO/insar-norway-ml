---
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Custom Modern CSS -->
    <link rel="stylesheet" href="{{ '/assets/css/modern-style.css' | relative_url }}">

    <!-- Favicon -->
    <link rel="icon" href="{{ '/assets/figs/satellite.svg' | relative_url }}" type="image/svg+xml">

    <!-- SEO -->
    {% seo %}
</head>

<body class="index-page">

    <!-- Video Background -->
    <video autoplay muted loop playsinline class="video-background">
        <source src="{{ '/assets/video/earth-loop.webm' | relative_url }}" type="video/webm">
        <source src="{{ '/assets/video/earth-loop.mp4' | relative_url }}" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <header>
        <div class="logo-container">
            <a href="{{ '/' | relative_url }}">
                <img src="{{ '/assets/figs/NORCE_Logo.png' | relative_url }}" alt="NORCE Logo" class="logo-img">
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="{{ '/anomaly-detection/' | relative_url }}">Anomaly Detection</a></li>
                <li><a href="{{ '/clustering/' | relative_url }}">Clustering</a></li>
            </ul>
        </nav>
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <p>&copy; {{ site.time | date: '%Y' }} <a href="https://sites.google.com/view/filippombianchi/home">{{
                site.footer_author | default: "Filippo Maria Bianchi" }}</a></p>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox-modal">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
        <div class="lightbox-caption" id="lightbox-caption"></div>
    </div>

    <script>
        // Mouse-tracking glow effect
        document.querySelectorAll('.card').forEach(card => {
            card.onmousemove = e => {
                const rect = card.getBoundingClientRect(),
                    x = e.clientX - rect.left,
                    y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${x}px`);
                card.style.setProperty('--mouse-y', `${y}px`);
            };
        });

        // Lightbox Functionality
        document.addEventListener('DOMContentLoaded', () => {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeBtn = document.querySelector('.lightbox-close');

            // Open Lightbox
            document.querySelectorAll('[data-zoom]').forEach(item => {
                item.addEventListener('click', e => {
                    e.preventDefault();
                    const imgUrl = item.getAttribute('href');
                    const caption = item.getAttribute('aria-label');

                    lightboxImg.src = imgUrl;
                    lightboxCaption.textContent = caption || '';
                    lightbox.classList.add('active');
                });
            });

            // Close Lightbox
            closeBtn.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            lightbox.addEventListener('click', e => {
                if (e.target !== lightboxImg) {
                    lightbox.classList.remove('active');
                }
            });

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') {
                    lightbox.classList.remove('active');
                }
            });
        });
    </script>
</body>

</html>